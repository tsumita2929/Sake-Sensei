# Sake Sensei - AI-Driven Implementation Plan

## æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ç”ŸæˆAIï¼ˆClaudeï¼‰ã‚’ä½¿ç”¨ã—ã¦Sake Senseiã‚’æ®µéšçš„ã«å®Ÿè£…ã™ã‚‹ãŸã‚ã®è©³ç´°ãªè¨ˆç”»ã§ã™ã€‚å„ã‚¿ã‚¹ã‚¯ã¯å°ã•ãªå˜ä½ã«åˆ†å‰²ã•ã‚Œã€å®Ÿè£…å¾Œã«å…¨ä½“è¨ˆç”»ã‚’è¦‹ç›´ã™ãƒ—ãƒ­ã‚»ã‚¹ã‚’å«ã¿ã¾ã™ã€‚

## å®Ÿè£…åŸå‰‡

### 1. AIé§†å‹•é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Plan Review â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â”‚
       â–¼                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ Task Select â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â”‚
       â–¼                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ AI Generate â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â”‚
       â–¼                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   Validate  â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â”‚
       â–¼                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   Commit    â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                   â”‚
       â–¼                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ Update Plan â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ã‚¿ã‚¹ã‚¯ç²’åº¦ã®åŸºæº–

- **1ã‚¿ã‚¹ã‚¯ = 1ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ/ç·¨é›†**
- **å®Ÿè£…æ™‚é–“: 5-15åˆ†**
- **ãƒ†ã‚¹ãƒˆå¯èƒ½ãªæœ€å°å˜ä½**
- **ç‹¬ç«‹ã—ã¦ã‚³ãƒŸãƒƒãƒˆå¯èƒ½**

## Phase 0: åŸºç›¤æ•´å‚™ (Foundation)

### 0.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
- [ ] **0.1.1** `pyproject.toml`ä½œæˆ - åŸºæœ¬ä¾å­˜é–¢ä¿‚å®šç¾©
- [ ] **0.1.2** `.gitignore`ä½œæˆ - Python/AWS/IDEç”¨è¨­å®š
- [ ] **0.1.3** `.env.example`ä½œæˆ - å¿…è¦ãªç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- [ ] **0.1.4** `uv sync`å®Ÿè¡Œç¢ºèª - ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¤œè¨¼

### 0.2 é–‹ç™ºç’°å¢ƒè¨­å®š
- [ ] **0.2.1** `.github/workflows`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
- [ ] **0.2.2** `pr-checks.yml`ä½œæˆ - PRãƒã‚§ãƒƒã‚¯ç”¨GitHub Actions
- [ ] **0.2.3** `.pre-commit-config.yaml`ä½œæˆ - pre-commitãƒ•ãƒƒã‚¯è¨­å®š
- [ ] **0.2.4** `Makefile`ä½œæˆ - é–‹ç™ºã‚³ãƒãƒ³ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

### 0.3 AWS CDKåŸºç›¤
- [ ] **0.3.1** `infrastructure/app.py`ä½œæˆ - CDKã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
- [ ] **0.3.2** `infrastructure/cdk.json`ä½œæˆ - CDKè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
- [ ] **0.3.3** `infrastructure/requirements.txt`ä½œæˆ - CDKä¾å­˜é–¢ä¿‚
- [ ] **0.3.4** CDKãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—å®Ÿè¡Œ - AWSç’°å¢ƒæº–å‚™

## Phase 1: ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ« & ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤

### 1.1 DynamoDBãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©
- [ ] **1.1.1** `infrastructure/stacks/__init__.py`ä½œæˆ
- [ ] **1.1.2** `infrastructure/stacks/database_stack.py`ä½œæˆ - ã‚¹ã‚¿ãƒƒã‚¯åŸºç›¤
- [ ] **1.1.3** UsersTableå®šç¾©è¿½åŠ  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«
- [ ] **1.1.4** SakeMasterTableå®šç¾©è¿½åŠ  - æ—¥æœ¬é…’ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
- [ ] **1.1.5** BreweryMasterTableå®šç¾©è¿½åŠ  - é…’è”µãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
- [ ] **1.1.6** TastingRecordsTableå®šç¾©è¿½åŠ  - ãƒ†ã‚¤ã‚¹ãƒ†ã‚£ãƒ³ã‚°è¨˜éŒ²
- [ ] **1.1.7** GSIå®šç¾©è¿½åŠ  - ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹

### 1.2 S3ãƒã‚±ãƒƒãƒˆå®šç¾©
- [ ] **1.2.1** `infrastructure/stacks/storage_stack.py`ä½œæˆ - S3ã‚¹ã‚¿ãƒƒã‚¯
- [ ] **1.2.2** ç”»åƒä¿å­˜ç”¨ãƒã‚±ãƒƒãƒˆå®šç¾© - ãƒ©ãƒ™ãƒ«ç”»åƒç”¨
- [ ] **1.2.3** ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼å®šç¾© - ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- [ ] **1.2.4** ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ«ãƒ¼ãƒ«å®šç¾© - å¤ã„ç”»åƒã®è‡ªå‹•å‰Šé™¤

### 1.3 ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚¯ãƒ©ã‚¹
- [ ] **1.3.1** `backend/models/__init__.py`ä½œæˆ
- [ ] **1.3.2** `backend/models/user.py`ä½œæˆ - Userãƒ¢ãƒ‡ãƒ«ã‚¯ãƒ©ã‚¹
- [ ] **1.3.3** `backend/models/sake.py`ä½œæˆ - Sakeãƒ¢ãƒ‡ãƒ«ã‚¯ãƒ©ã‚¹
- [ ] **1.3.4** `backend/models/brewery.py`ä½œæˆ - Breweryãƒ¢ãƒ‡ãƒ«ã‚¯ãƒ©ã‚¹
- [ ] **1.3.5** `backend/models/tasting.py`ä½œæˆ - TastingRecordãƒ¢ãƒ‡ãƒ«
- [ ] **1.3.6** `backend/models/validators.py`ä½œæˆ - å…¥åŠ›æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯

### 1.4 ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿æº–å‚™
- [ ] **1.4.1** `data/sake_master.json`ä½œæˆ - ã‚µãƒ³ãƒ—ãƒ«æ—¥æœ¬é…’ãƒ‡ãƒ¼ã‚¿(10ä»¶)
- [ ] **1.4.2** `data/brewery_master.json`ä½œæˆ - ã‚µãƒ³ãƒ—ãƒ«é…’è”µãƒ‡ãƒ¼ã‚¿(5ä»¶)
- [ ] **1.4.3** `scripts/seed_data.py`ä½œæˆ - ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- [ ] **1.4.4** ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

## Phase 2: èªè¨¼åŸºç›¤

### 2.1 Cognitoãƒªã‚½ãƒ¼ã‚¹å®šç¾©
- [ ] **2.1.1** `infrastructure/stacks/auth_stack.py`ä½œæˆ - èªè¨¼ã‚¹ã‚¿ãƒƒã‚¯
- [ ] **2.1.2** User Poolå®šç¾© - ãƒ¡ãƒ¼ãƒ«èªè¨¼ä»˜ã
- [ ] **2.1.3** User Pool Clientå®šç¾© - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- [ ] **2.1.4** ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªã‚·ãƒ¼è¨­å®š - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶
- [ ] **2.1.5** MFAã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®š

### 2.2 èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼å®Ÿè£…
- [ ] **2.2.1** `backend/auth/__init__.py`ä½œæˆ
- [ ] **2.2.2** `backend/auth/cognito_client.py`ä½œæˆ - Cognito APIãƒ©ãƒƒãƒ‘ãƒ¼
- [ ] **2.2.3** `backend/auth/jwt_validator.py`ä½œæˆ - JWTæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯
- [ ] **2.2.4** `backend/auth/decorators.py`ä½œæˆ - èªè¨¼ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿

## Phase 3: Lambdaé–¢æ•°åŸºç›¤

### 3.1 Lambdaå…±é€šå±¤
- [ ] **3.1.1** `backend/lambdas/layer/__init__.py`ä½œæˆ
- [ ] **3.1.2** `backend/lambdas/layer/logger.py`ä½œæˆ - ãƒ­ã‚®ãƒ³ã‚°è¨­å®š
- [ ] **3.1.3** `backend/lambdas/layer/response.py`ä½œæˆ - ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼çµ±ä¸€
- [ ] **3.1.4** `backend/lambdas/layer/error_handler.py`ä½œæˆ - ã‚¨ãƒ©ãƒ¼å‡¦ç†
- [ ] **3.1.5** Lambdaãƒ¬ã‚¤ãƒ¤ãƒ¼å®šç¾©è¿½åŠ  (CDK)

### 3.2 Recommendation Lambda
- [ ] **3.2.1** `backend/lambdas/recommendation/handler.py`ä½œæˆ - ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
- [ ] **3.2.2** `backend/lambdas/recommendation/algorithm.py`ä½œæˆ - æ¨è–¦ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ åŸºæœ¬å®Ÿè£…
- [ ] **3.2.3** `backend/lambdas/recommendation/scorer.py`ä½œæˆ - ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯
- [ ] **3.2.4** `backend/lambdas/recommendation/requirements.txt`ä½œæˆ
- [ ] **3.2.5** Lambdaé–¢æ•°å®šç¾©è¿½åŠ  (CDK)
- [ ] **3.2.6** IAMãƒ­ãƒ¼ãƒ«å®šç¾©è¿½åŠ 

### 3.3 Preference Lambda
- [ ] **3.3.1** `backend/lambdas/preference/handler.py`ä½œæˆ
- [ ] **3.3.2** `backend/lambdas/preference/crud.py`ä½œæˆ - CRUDæ“ä½œ
- [ ] **3.3.3** `backend/lambdas/preference/requirements.txt`ä½œæˆ
- [ ] **3.3.4** Lambdaé–¢æ•°å®šç¾©è¿½åŠ  (CDK)

### 3.4 Tasting Lambda
- [ ] **3.4.1** `backend/lambdas/tasting/handler.py`ä½œæˆ
- [ ] **3.4.2** `backend/lambdas/tasting/crud.py`ä½œæˆ
- [ ] **3.4.3** `backend/lambdas/tasting/analytics.py`ä½œæˆ - çµ±è¨ˆå‡¦ç†
- [ ] **3.4.4** `backend/lambdas/tasting/requirements.txt`ä½œæˆ
- [ ] **3.4.5** Lambdaé–¢æ•°å®šç¾©è¿½åŠ  (CDK)

### 3.5 Brewery Lambda
- [ ] **3.5.1** `backend/lambdas/brewery/handler.py`ä½œæˆ
- [ ] **3.5.2** `backend/lambdas/brewery/query.py`ä½œæˆ - æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯
- [ ] **3.5.3** `backend/lambdas/brewery/requirements.txt`ä½œæˆ
- [ ] **3.5.4** Lambdaé–¢æ•°å®šç¾©è¿½åŠ  (CDK)

### 3.6 Image Recognition Lambda
- [ ] **3.6.1** `backend/lambdas/image_recognition/handler.py`ä½œæˆ
- [ ] **3.6.2** `backend/lambdas/image_recognition/bedrock_client.py`ä½œæˆ
- [ ] **3.6.3** `backend/lambdas/image_recognition/matcher.py`ä½œæˆ - ãƒãƒƒãƒãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯
- [ ] **3.6.4** `backend/lambdas/image_recognition/requirements.txt`ä½œæˆ
- [ ] **3.6.5** Lambdaé–¢æ•°å®šç¾©è¿½åŠ  (CDK)

## Phase 4: AgentCoreçµ±åˆ

### 4.1 AgentCore Gatewayè¨­å®š
- [ ] **4.1.1** `scripts/agentcore/__init__.py`ä½œæˆ
- [ ] **4.1.2** `scripts/agentcore/create_gateway.py`ä½œæˆ
- [ ] **4.1.3** `scripts/agentcore/add_gateway_targets.py`ä½œæˆ
- [ ] **4.1.4** Gatewayä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
- [ ] **4.1.5** Lambdaé–¢æ•°ã‚’MCPãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ç™»éŒ²

### 4.2 AgentCore Memoryè¨­å®š
- [ ] **4.2.1** `scripts/agentcore/create_memory.py`ä½œæˆ
- [ ] **4.2.2** Memory Storeä½œæˆå®Ÿè¡Œ
- [ ] **4.2.3** Memoryæˆ¦ç•¥è¨­å®š (SEMANTIC, USER_PREFERENCES, SUMMARY)

### 4.3 AgentCore Identityè¨­å®š
- [ ] **4.3.1** `scripts/agentcore/setup_identity.py`ä½œæˆ
- [ ] **4.3.2** Cognitoçµ±åˆè¨­å®š
- [ ] **4.3.3** OAuth 2.0è¨­å®šç¢ºèª

### 4.4 Strands Agentå®Ÿè£…
- [ ] **4.4.1** `agent/__init__.py`ä½œæˆ
- [ ] **4.4.2** `agent/entrypoint.py`ä½œæˆ - Runtimeç”¨ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
- [ ] **4.4.3** `agent/agent.py`ä½œæˆ - Agentæœ¬ä½“å®šç¾©
- [ ] **4.4.4** `agent/system_prompt.py`ä½œæˆ - ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
- [ ] **4.4.5** `agent/memory_hook.py`ä½œæˆ - Memoryçµ±åˆãƒ•ãƒƒã‚¯
- [ ] **4.4.6** `agent/tools/__init__.py`ä½œæˆ
- [ ] **4.4.7** `agent/tools/recommendation_tool.py`ä½œæˆ
- [ ] **4.4.8** `agent/requirements.txt`ä½œæˆ

### 4.5 Agent ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] **4.5.1** `agent/.agentcore.yaml`ä½œæˆ - Agentè¨­å®š
- [ ] **4.5.2** ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] **4.5.3** Runtime ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ (devç’°å¢ƒ)

## Phase 5: Streamlit ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

### 5.1 StreamlitåŸºæœ¬æ§‹æˆ
- [ ] **5.1.1** `streamlit_app/__init__.py`ä½œæˆ
- [ ] **5.1.2** `streamlit_app/app.py`ä½œæˆ - ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
- [ ] **5.1.3** `streamlit_app/config.py`ä½œæˆ - è¨­å®šç®¡ç†
- [ ] **5.1.4** `streamlit_app/.streamlit/config.toml`ä½œæˆ
- [ ] **5.1.5** `streamlit_app/requirements.txt`ä½œæˆ (uv exportã‹ã‚‰ç”Ÿæˆ)

### 5.2 èªè¨¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- [ ] **5.2.1** `streamlit_app/components/__init__.py`ä½œæˆ
- [ ] **5.2.2** `streamlit_app/components/auth.py`ä½œæˆ - ãƒ­ã‚°ã‚¤ãƒ³/ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—UI
- [ ] **5.2.3** `streamlit_app/utils/__init__.py`ä½œæˆ
- [ ] **5.2.4** `streamlit_app/utils/session.py`ä½œæˆ - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- [ ] **5.2.5** `streamlit_app/utils/auth_helper.py`ä½œæˆ - Cognitoé€£æº

### 5.3 AgentCore ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- [ ] **5.3.1** `streamlit_app/components/agent_client.py`ä½œæˆ
- [ ] **5.3.2** ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†å®Ÿè£…
- [ ] **5.3.3** ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…

### 5.4 ãƒšãƒ¼ã‚¸å®Ÿè£…: å¥½ã¿èª¿æŸ»
- [ ] **5.4.1** `streamlit_app/pages/__init__.py`ä½œæˆ
- [ ] **5.4.2** `streamlit_app/pages/1_ğŸ¯_Preference_Survey.py`ä½œæˆ
- [ ] **5.4.3** ãƒ•ã‚©ãƒ¼ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- [ ] **5.4.4** ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
- [ ] **5.4.5** é€ä¿¡å‡¦ç†å®Ÿè£…

### 5.5 ãƒšãƒ¼ã‚¸å®Ÿè£…: AIæ¨è–¦
- [ ] **5.5.1** `streamlit_app/pages/2_ğŸ¤–_AI_Recommendations.py`ä½œæˆ
- [ ] **5.5.2** ãƒãƒ£ãƒƒãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…
- [ ] **5.5.3** ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°è¡¨ç¤ºå®Ÿè£…
- [ ] **5.5.4** `streamlit_app/components/sake_card.py`ä½œæˆ - é…’ã‚«ãƒ¼ãƒ‰è¡¨ç¤º

### 5.6 ãƒšãƒ¼ã‚¸å®Ÿè£…: è©•ä¾¡
- [ ] **5.6.1** `streamlit_app/pages/3_â­_Rating.py`ä½œæˆ
- [ ] **5.6.2** è©•ä¾¡ãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [ ] **5.6.3** ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¸€è¦§è¡¨ç¤ºå®Ÿè£…

### 5.7 ãƒšãƒ¼ã‚¸å®Ÿè£…: ç”»åƒèªè­˜
- [ ] **5.7.1** `streamlit_app/pages/4_ğŸ“·_Image_Recognition.py`ä½œæˆ
- [ ] **5.7.2** ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
- [ ] **5.7.3** èªè­˜çµæœè¡¨ç¤ºå®Ÿè£…

### 5.8 ãƒšãƒ¼ã‚¸å®Ÿè£…: å±¥æ­´
- [ ] **5.8.1** `streamlit_app/pages/5_ğŸ“Š_History.py`ä½œæˆ
- [ ] **5.8.2** ãƒ†ã‚¤ã‚¹ãƒ†ã‚£ãƒ³ã‚°å±¥æ­´è¡¨ç¤ºå®Ÿè£…
- [ ] **5.8.3** çµ±è¨ˆã‚°ãƒ©ãƒ•å®Ÿè£…
- [ ] **5.8.4** ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£…

## Phase 6: ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã¨ECSãƒ‡ãƒ—ãƒ­ã‚¤

### 6.1 Dockerè¨­å®š
- [ ] **6.1.1** `streamlit_app/Dockerfile`ä½œæˆ
- [ ] **6.1.2** `.dockerignore`ä½œæˆ
- [ ] **6.1.3** `streamlit_app/docker-compose.yml`ä½œæˆ (ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆç”¨)
- [ ] **6.1.4** Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ

### 6.2 Copilotè¨­å®š
- [ ] **6.2.1** `copilot/.workspace`ä½œæˆ
- [ ] **6.2.2** `copilot/environments/dev/addons/cf.yml`ä½œæˆ
- [ ] **6.2.3** `copilot/environments/dev/manifest.yml`ä½œæˆ
- [ ] **6.2.4** `copilot/streamlit-app/manifest.yml`ä½œæˆ
- [ ] **6.2.5** `copilot/streamlit-app/addons/alb.yml`ä½œæˆ

### 6.3 ECRã¨ECSãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] **6.3.1** ECRãƒªãƒã‚¸ãƒˆãƒªä½œæˆ
- [ ] **6.3.2** Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ—ãƒƒã‚·ãƒ¥
- [ ] **6.3.3** Copilotç’°å¢ƒä½œæˆ (dev)
- [ ] **6.3.4** Copilotã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] **6.3.5** ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ç¢ºèª

## Phase 7: ãƒ†ã‚¹ãƒˆå®Ÿè£…

### 7.1 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆåŸºç›¤
- [ ] **7.1.1** `tests/__init__.py`ä½œæˆ
- [ ] **7.1.2** `tests/conftest.py`ä½œæˆ - pytestè¨­å®š
- [ ] **7.1.3** `tests/fixtures/__init__.py`ä½œæˆ
- [ ] **7.1.4** `tests/fixtures/users.py`ä½œæˆ - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
- [ ] **7.1.5** `tests/fixtures/sake.py`ä½œæˆ

### 7.2 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- [ ] **7.2.1** `tests/unit/__init__.py`ä½œæˆ
- [ ] **7.2.2** `tests/unit/test_models.py`ä½œæˆ
- [ ] **7.2.3** `tests/unit/test_auth.py`ä½œæˆ
- [ ] **7.2.4** `tests/unit/test_recommendation_algorithm.py`ä½œæˆ
- [ ] **7.2.5** `tests/unit/test_lambdas.py`ä½œæˆ

### 7.3 ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ
- [ ] **7.3.1** `tests/agent/__init__.py`ä½œæˆ
- [ ] **7.3.2** `tests/agent/test_agent_local.py`ä½œæˆ
- [ ] **7.3.3** `tests/agent/test_agent_runtime.py`ä½œæˆ

### 7.4 çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] **7.4.1** `tests/integration/__init__.py`ä½œæˆ
- [ ] **7.4.2** `tests/integration/test_lambda_dynamodb.py`ä½œæˆ
- [ ] **7.4.3** `tests/integration/test_cognito_flow.py`ä½œæˆ
- [ ] **7.4.4** `tests/integration/test_agentcore_gateway.py`ä½œæˆ

### 7.5 E2Eãƒ†ã‚¹ãƒˆ
- [ ] **7.5.1** `tests/e2e/__init__.py`ä½œæˆ
- [ ] **7.5.2** `tests/e2e/test_user_journey.py`ä½œæˆ
- [ ] **7.5.3** `tests/e2e/test_recommendation_flow.py`ä½œæˆ
- [ ] **7.5.4** `tests/e2e/test_streaming.py`ä½œæˆ

### 7.6 ã‚¹ãƒ¢ãƒ¼ã‚¯ãƒ†ã‚¹ãƒˆ
- [ ] **7.6.1** `tests/smoke/__init__.py`ä½œæˆ
- [ ] **7.6.2** `tests/smoke/test_health.py`ä½œæˆ
- [ ] **7.6.3** `tests/smoke/test_auth.py`ä½œæˆ
- [ ] **7.6.4** `tests/smoke/test_basic_flow.py`ä½œæˆ

## Phase 8: CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

### 8.1 GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- [ ] **8.1.1** `.github/workflows/pr-checks.yml`å®Œæˆ
- [ ] **8.1.2** `.github/workflows/deploy-staging.yml`ä½œæˆ
- [ ] **8.1.3** `.github/workflows/deploy-production.yml`ä½œæˆ
- [ ] **8.1.4** `.github/workflows/rollback.yml`ä½œæˆ

### 8.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
- [ ] **8.2.1** `.github/workflows/security-scan.yml`ä½œæˆ
- [ ] **8.2.2** Banditè¨­å®š
- [ ] **8.2.3** Safetyè¨­å®š
- [ ] **8.2.4** Trivyè¨­å®š

## Phase 9: ç›£è¦–ã¨ãƒ­ã‚®ãƒ³ã‚°

### 9.1 CloudWatchè¨­å®š
- [ ] **9.1.1** `infrastructure/stacks/monitoring_stack.py`ä½œæˆ
- [ ] **9.1.2** ãƒ­ã‚°ã‚°ãƒ«ãƒ¼ãƒ—å®šç¾©
- [ ] **9.1.3** ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚¢ãƒ©ãƒ¼ãƒ å®šç¾©
- [ ] **9.1.4** ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å®šç¾©

### 9.2 X-Rayè¨­å®š
- [ ] **9.2.1** Lambdaé–¢æ•°ã«X-Rayæœ‰åŠ¹åŒ–
- [ ] **9.2.2** ãƒˆãƒ¬ãƒ¼ã‚·ãƒ³ã‚°è¨­å®š

## Phase 10: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

### 10.1 WAFè¨­å®š
- [ ] **10.1.1** `infrastructure/stacks/security_stack.py`ä½œæˆ
- [ ] **10.1.2** WAFãƒ«ãƒ¼ãƒ«å®šç¾©
- [ ] **10.1.3** ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¨­å®š

### 10.2 Secrets Manager
- [ ] **10.2.1** API ã‚­ãƒ¼ç®¡ç†è¨­å®š
- [ ] **10.2.2** ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š

## Phase 11: æœ¬ç•ªç’°å¢ƒæº–å‚™

### 11.1 Productionç’°å¢ƒæ§‹ç¯‰
- [ ] **11.1.1** `copilot/environments/prod/manifest.yml`ä½œæˆ
- [ ] **11.1.2** Productionç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
- [ ] **11.1.3** Productionç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤

### 11.2 ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š
- [ ] **11.2.1** Route 53è¨­å®š
- [ ] **11.2.2** SSLè¨¼æ˜æ›¸è¨­å®š

## Phase 12: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™

### 12.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] **12.1.1** `docs/user-guide.md`ä½œæˆ
- [ ] **12.1.2** `docs/api-reference.md`ä½œæˆ

### 12.2 é‹ç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] **12.2.1** `docs/operations.md`ä½œæˆ
- [ ] **12.2.2** `docs/troubleshooting.md`ä½œæˆ

## å®Ÿè£…ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹

### å„ã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

1. **ã‚³ãƒ¼ãƒ‰å“è³ª**
   - [ ] ruff formatã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿
   - [ ] ruff checkã§ã‚¨ãƒ©ãƒ¼ãªã—
   - [ ] mypyå‹ãƒã‚§ãƒƒã‚¯é€šé

2. **ãƒ†ã‚¹ãƒˆ**
   - [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ/æ›´æ–°
   - [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸70%ä»¥ä¸Š

3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**
   - [ ] docstringè¿½åŠ 
   - [ ] å¿…è¦ã«å¿œã˜ã¦READMEæ›´æ–°

4. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
   - [ ] ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–æƒ…å ±ã®ç¢ºèª
   - [ ] å…¥åŠ›æ¤œè¨¼å®Ÿè£…

5. **è¨ˆç”»è¦‹ç›´ã—**
   - [ ] å®Œäº†ã‚¿ã‚¹ã‚¯ã®ãƒãƒ¼ã‚¯
   - [ ] æ¬¡ã‚¿ã‚¹ã‚¯ã®è©³ç´°ç¢ºèª
   - [ ] å¿…è¦ã«å¿œã˜ã¦è¨ˆç”»èª¿æ•´

## é€²æ—ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

### Phaseå®Œäº†åŸºæº–

- ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã«ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯
- çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸ
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°å®Œäº†

### å…¨ä½“é€²æ—

```
Phase 0:  [          ] 0% (0/8)
Phase 1:  [          ] 0% (0/20)
Phase 2:  [          ] 0% (0/9)
Phase 3:  [          ] 0% (0/26)
Phase 4:  [          ] 0% (0/18)
Phase 5:  [          ] 0% (0/31)
Phase 6:  [          ] 0% (0/14)
Phase 7:  [          ] 0% (0/24)
Phase 8:  [          ] 0% (0/8)
Phase 9:  [          ] 0% (0/6)
Phase 10: [          ] 0% (0/5)
Phase 11: [          ] 0% (0/5)
Phase 12: [          ] 0% (0/4)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total:    [          ] 0% (0/178)
```

## AIå®Ÿè£…ã‚¬ã‚¤ãƒ‰

### ã‚¿ã‚¹ã‚¯å®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```markdown
## Task: [ã‚¿ã‚¹ã‚¯ç•ªå·] [ã‚¿ã‚¹ã‚¯å]

### Input
- ä¾å­˜ã‚¿ã‚¹ã‚¯: [ä¾å­˜ã™ã‚‹ã‚¿ã‚¹ã‚¯ç•ªå·]
- å¿…è¦ãƒ•ã‚¡ã‚¤ãƒ«: [å‚ç…§ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«]

### Output
- ä½œæˆ/æ›´æ–°ãƒ•ã‚¡ã‚¤ãƒ«: [ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹]
- æœŸå¾…ã•ã‚Œã‚‹æ©Ÿèƒ½: [æ©Ÿèƒ½èª¬æ˜]

### Implementation
[å…·ä½“çš„ãªå®Ÿè£…å†…å®¹ã‚’AIã«æŒ‡ç¤º]

### Validation
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ/æ›´æ–°å®Œäº†
- [ ] ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] ã‚¤ãƒ³ãƒãƒ¼ãƒˆè§£æ±º
- [ ] åŸºæœ¬å‹•ä½œç¢ºèª
```

### AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä¾‹

```
ã‚¿ã‚¹ã‚¯0.1.1ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„:
- pyproject.tomlã‚’ä½œæˆ
- Python 3.12ã‚’æŒ‡å®š
- å¿…è¦ãªåŸºæœ¬ä¾å­˜é–¢ä¿‚ã‚’å«ã‚ã‚‹
  - streamlit
  - boto3
  - pydantic
  - pytest (dev)
  - ruff (dev)
  - mypy (dev)
- uv package managerã§ç®¡ç†å¯èƒ½ãªå½¢å¼
```

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **Phase 0.1.1ã‹ã‚‰é–‹å§‹**
2. **å„ã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã«ãƒ¬ãƒ“ãƒ¥ãƒ¼**
3. **5ã‚¿ã‚¹ã‚¯å®Œäº†ã”ã¨ã«å…¨ä½“è¨ˆç”»è¦‹ç›´ã—**
4. **Phaseå®Œäº†æ™‚ã«çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿæ–½**