<mxfile host="app.diagrams.net">
  <diagram name="Sake Sensei Architecture" id="arch">
    <mxGraphModel dx="1422" dy="794" grid="1">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <mxCell id="2" value="Sake Sensei - Complete Architecture (v0.0.9)" style="text;fontSize=24;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="200" y="20" width="760" height="40" as="geometry"/>
        </mxCell>
        
        <!-- Frontend: ECS Fargate -->
        <mxCell id="10" value="Frontend Layer" style="rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;verticalAlign=top;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="100" width="280" height="200" as="geometry"/>
        </mxCell>
        <mxCell id="11" value="Streamlit App&#xa;Python 3.13" style="rounded=1;fillColor=#e1d5e7" vertex="1" parent="1">
          <mxGeometry x="80" y="140" width="200" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="12" value="AWS Cognito UI" style="rounded=1;fillColor=#fff2cc" vertex="1" parent="1">
          <mxGeometry x="80" y="220" width="200" height="50" as="geometry"/>
        </mxCell>
        
        <!-- AI Layer: Bedrock + AgentCore -->
        <mxCell id="20" value="AI & Agent Layer" style="rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;verticalAlign=top;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="380" y="100" width="360" height="240" as="geometry"/>
        </mxCell>
        <mxCell id="21" value="Amazon Bedrock&#xa;Claude Sonnet 4.5" style="rounded=1;fillColor=#d0cee2" vertex="1" parent="1">
          <mxGeometry x="420" y="140" width="140" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="22" value="AgentCore Runtime" style="rounded=1;fillColor=#b1ddf0" vertex="1" parent="1">
          <mxGeometry x="580" y="140" width="140" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="23" value="AgentCore Gateway&#xa;(MCP Tools)" style="rounded=1;fillColor=#b0e3e6" vertex="1" parent="1">
          <mxGeometry x="420" y="220" width="140" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="24" value="AgentCore Memory" style="rounded=1;fillColor=#fad9d5" vertex="1" parent="1">
          <mxGeometry x="580" y="220" width="140" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="25" value="Observability" style="rounded=1;fillColor=#fad7ac" vertex="1" parent="1">
          <mxGeometry x="420" y="280" width="300" height="40" as="geometry"/>
        </mxCell>
        
        <!-- Backend: Lambda Functions -->
        <mxCell id="30" value="Backend Services (Lambda)" style="rounded=1;fillColor=#ffe6cc;strokeColor=#d79b00;verticalAlign=top;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="380" width="700" height="160" as="geometry"/>
        </mxCell>
        <mxCell id="31" value="Recommendation" style="rounded=1;fillColor=#ffcd28" vertex="1" parent="1">
          <mxGeometry x="60" y="420" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="32" value="Preference" style="rounded=1;fillColor=#ffcd28" vertex="1" parent="1">
          <mxGeometry x="200" y="420" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="33" value="Tasting" style="rounded=1;fillColor=#ffcd28" vertex="1" parent="1">
          <mxGeometry x="340" y="420" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="34" value="Brewery" style="rounded=1;fillColor=#ffcd28" vertex="1" parent="1">
          <mxGeometry x="480" y="420" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="35" value="Image Recognition" style="rounded=1;fillColor=#ffcd28" vertex="1" parent="1">
          <mxGeometry x="620" y="420" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="36" value="Shared Layer (error_handler, logger)" style="rounded=1;fillColor=#fad7ac" vertex="1" parent="1">
          <mxGeometry x="200" y="480" width="400" height="40" as="geometry"/>
        </mxCell>
        
        <!-- Data Layer -->
        <mxCell id="40" value="Data Layer" style="rounded=1;fillColor=#f5f5f5;strokeColor=#666666;verticalAlign=top;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="580" width="700" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="41" value="DynamoDB&#xa;Users" style="rounded=1;fillColor=#76608a;fontColor=#ffffff" vertex="1" parent="1">
          <mxGeometry x="80" y="620" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="42" value="DynamoDB&#xa;Preferences" style="rounded=1;fillColor=#76608a;fontColor=#ffffff" vertex="1" parent="1">
          <mxGeometry x="220" y="620" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="43" value="DynamoDB&#xa;Tastings" style="rounded=1;fillColor=#76608a;fontColor=#ffffff" vertex="1" parent="1">
          <mxGeometry x="360" y="620" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="44" value="S3&#xa;Images" style="rounded=1;fillColor=#a0522d;fontColor=#ffffff" vertex="1" parent="1">
          <mxGeometry x="500" y="620" width="120" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="45" value="Master Data&#xa;JSON" style="rounded=1;fillColor=#60a917;fontColor=#ffffff" vertex="1" parent="1">
          <mxGeometry x="640" y="620" width="120" height="60" as="geometry"/>
        </mxCell>
        
        <!-- Security & Infrastructure -->
        <mxCell id="50" value="Security & Infrastructure" style="rounded=1;fillColor=#e1d5e7;strokeColor=#9673a6;verticalAlign=top;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="800" y="100" width="280" height="600" as="geometry"/>
        </mxCell>
        <mxCell id="51" value="AWS Cognito" style="rounded=1;fillColor=#dae8fc" vertex="1" parent="1">
          <mxGeometry x="840" y="140" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="52" value="AWS WAF" style="rounded=1;fillColor=#ffe6cc" vertex="1" parent="1">
          <mxGeometry x="840" y="210" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="53" value="CloudWatch" style="rounded=1;fillColor=#d5e8d4" vertex="1" parent="1">
          <mxGeometry x="840" y="280" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="54" value="AWS X-Ray" style="rounded=1;fillColor=#fff2cc" vertex="1" parent="1">
          <mxGeometry x="840" y="350" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="55" value="IAM Roles" style="rounded=1;fillColor=#f8cecc" vertex="1" parent="1">
          <mxGeometry x="840" y="420" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="56" value="ECR" style="rounded=1;fillColor=#dae8fc" vertex="1" parent="1">
          <mxGeometry x="840" y="490" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="57" value="AWS Copilot" style="rounded=1;fillColor=#e1d5e7" vertex="1" parent="1">
          <mxGeometry x="840" y="560" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="58" value="GitHub Actions" style="rounded=1;fillColor=#d0cee2" vertex="1" parent="1">
          <mxGeometry x="840" y="630" width="200" height="50" as="geometry"/>
        </mxCell>
        
        <!-- Notes -->
        <mxCell id="70" value="Features: AI Recommendations, Image Recognition, Gamification, User Preferences, Tasting History" style="text;fillColor=#dae8fc;strokeColor=#6c8ebf" vertex="1" parent="1">
          <mxGeometry x="40" y="720" width="1040" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="71" value="Region: us-west-2 | Runtime: Python 3.13 | Model: Claude Sonnet 4.5 | Deployment: Copilot CLI" style="text;fillColor=#ffe6cc;strokeColor=#d79b00" vertex="1" parent="1">
          <mxGeometry x="40" y="770" width="1040" height="30" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
